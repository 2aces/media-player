var MediaPlayer=function(){"use strict";function e(e,t,n,l){function a(e){e.preventDefault();var t=v in e?e[v]:e.touches&&e.touches[0]&&e.touches[0][v]||0;l((d?t-p:h-t)/(h-p))}function r(){f.removeEventListener(c,a),f.removeEventListener(s,r)}var i=void 0!==e.onpointerup,o=void 0!==e.ontouchstart,u=i?"pointerdown":o?"touchstart":"mousedown",c=i?"pointermove":o?"touchmove":"mousemove",s=i?"pointerup":o?"touchend":"mouseup",m=/^(ltr|rtl)$/i.test(n),d=/^(ltr|ttb)$/i.test(n),v=m?"clientX":"clientY",f=void 0,p=void 0,h=void 0;e.addEventListener(u,function(n){f=e.ownerDocument.defaultView;var l=t.getBoundingClientRect();p=m?l.left:l.top,h=m?l.right:l.bottom,a(n),f.addEventListener(c,a),f.addEventListener(s,r)})}function t(e){return("0"+Math.floor(e/60)).slice(-2)+":"+("0"+Math.floor(e%60)).slice(-2)}function n(e,t,n){return Math.floor(e/60)+" "+t+", "+Math.floor(e%60)+" "+n}function l(e){var t=e instanceof Node?e:document.createElement(e),n=[].slice.call(arguments,1);for(var l in n)if(n[l]instanceof Node)t.appendChild(n[l]);else if(Object(n[l])===n[l])for(var a in n[l])"function"==typeof n[l][a]?t.addEventListener(a,n[l][a]):t.setAttribute(a,n[l][a]);return t}function a(e,t,n){var a="http://www.w3.org/2000/svg",r=document.createElementNS(a,"use");return r.setAttributeNS("http://www.w3.org/1999/xlink","href",t[n]||"#symbol-"+n),l(document.createElementNS(a,"svg"),{class:e+"-symbol "+e+"-"+n+"-symbol",role:"presentation"},r)}function r(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,void 0),e.dispatchEvent(n)}return function(i,o){function u(){R!==i.paused&&(R=i.paused,l(b.play,{"aria-label":R?T.play||"play":T.pause||"pause"}),l(b.playSymbol,{"aria-hidden":!R}),l(b.pauseSymbol,{"aria-hidden":R}),clearInterval(q),R||(q=setInterval(c,34)),r(i,"playchange"))}function c(){if(N!==i.currentTime||$!==i.duration){N=i.currentTime,$=i.duration||0;var e=N/$,a=t(N),o=t($-Math.floor(N));a!==b.currentTimeText.nodeValue&&(b.currentTimeText.nodeValue=a,l(b.currentTime,{title:""+n(N,T.minutes||"minutes",T.seconds||"seconds")})),o!==b.remainingTimeText.nodeValue&&(b.remainingTimeText.nodeValue=o,l(b.remainingTime,{title:""+n($-N,T.minutes||"minutes",T.seconds||"seconds")})),l(b.time,{"aria-valuenow":N,"aria-valuemin":0,"aria-valuemax":$});var u=/^(ltr|rtl)$/i.test(S)?"width":"height";b.timeMeter.style[u]=100*e+"%",r(i,"timechange")}}function s(){i.removeEventListener("canplaythrough",m),l(i,{canplaythrough:m}),l(b.download,{href:i.src,download:i.src}),u(),d(),v(),c()}function m(){i.removeEventListener("canplaythrough",m),r(i,"canplaystart"),R&&!i.autoplay||i.play()}function d(){var e=i.muted?0:i.volume,t=!e;l(b.volume,{"aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":1});var n=/^(ltr|rtl)$/i.test(k)?"width":"height";b.volumeMeter.style[n]=100*e+"%",l(b.mute,{"aria-label":t?T.unmute||"unmute":T.mute||"mute"}),l(b.muteSymbol,{"aria-hidden":t}),l(b.unmuteSymbol,{"aria-hidden":!t})}function v(){var e=E===C();l(b.fullscreen,{"aria-label":e?T.leaveFullscreen||"leave full screen":T.enterFullscreen||"enter full screen"}),l(b.enterFullscreenSymbol,{"aria-hidden":e}),l(b.leaveFullscreenSymbol,{"aria-hidden":!e})}function f(e){e.preventDefault(),i[i.paused?"play":"pause"]()}function p(e){e.preventDefault(),i.muted=!i.muted}function h(e){var t=e.keyCode,n=e.shiftKey;if(37<=t&&40>=t){e.preventDefault();var l=/^(btt|ltr)$/.tests(S),a=37===t||39===t?t-38:t-39;i.currentTime=Math.max(0,Math.min($,N+a*(l?1:-1)*(n?10:1))),c()}}function y(e){var t=e.keyCode,n=e.shiftKey;if(37<=t&&40>=t){e.preventDefault();var l=/^(btt|ltr)$/.tests(k),a=37===t||39===t?t-38:l?39-t:t-39;i.volume=Math.max(0,Math.min(1,i.volume+a*(l?.1:-.1)*(n?1:.2)))}}var b=this,g=Object(o),w=g.prefix||"media",T=Object(g.lang),F=Object(g.svgs),S=g.timeDir||"ltr",k=g.volumeDir||"ltr",x=i.ownerDocument;b.media=l(i,{canplaythrough:m,loadstart:s,loadeddata:function(){c()},pause:u,play:u,timeupdate:c,volumechange:d}),b.playSymbol=a(w,F,"play"),b.pauseSymbol=a(w,F,"pause"),b.play=l("button",{class:w+"-control "+w+"-play",click:f,keydown:h},b.playSymbol,b.pauseSymbol),b.timeMeter=l("span",{class:w+"-meter "+w+"-time-meter"}),b.timeRange=l("span",{class:w+"-range "+w+"-time-range"},b.timeMeter),b.time=l("button",{class:w+"-slider "+w+"-time",role:"slider","aria-label":T.currentTime||"current time","data-dir":S,click:function(e){e.pointerType||e.detail||f(e)},keydown:h},b.timeRange),b.currentTimeText=x.createTextNode(""),b.currentTime=l("span",{class:w+"-text "+w+"-current-time",role:"timer","aria-label":T.currentTime||"current time"},b.currentTimeText),b.remainingTimeText=x.createTextNode(""),b.remainingTime=l("span",{class:w+"-text "+w+"-remaining-time",role:"timer","aria-label":T.remainingTime||"remaining time"},b.remainingTimeText),b.muteSymbol=a(w,F,"mute"),b.unmuteSymbol=a(w,F,"unmute"),b.mute=l("button",{class:w+"-control "+w+"-mute",click:p,keydown:y},b.muteSymbol,b.unmuteSymbol),b.volumeMeter=l("span",{class:w+"-meter "+w+"-volume-meter"}),b.volumeRange=l("span",{class:w+"-range "+w+"-volume-range"},b.volumeMeter),b.volume=l("button",{class:w+"-slider "+w+"-volume",role:"slider","aria-label":T.volume||"volume","data-dir":k,click:function(e){e.pointerType||e.detail||p(e)},keydown:y},b.volumeRange),b.downloadLink=a(w,F,"download"),b.download=l("button",{class:w+"-control "+w+"-download","aria-label":T.download||"download",click:function(){var e=x.head.appendChild(l("a",{download:"",href:i.src}));e.click(),x.head.removeChild(e)}},b.downloadLink),b.enterFullscreenSymbol=a(w,F,"enterFullscreen"),b.leaveFullscreenSymbol=a(w,F,"leaveFullscreen"),b.fullscreen=l("button",{class:w+"-control "+w+"-fullscreen",click:function(){L?E===C()?D().call(x):(L.call(E),b.fullscreen.focus(),setTimeout(function(){b.fullscreen.focus()},200)):i.webkitSupportsFullscreen&&(i.webkitDisplayingFullscreen?i.webkitExitFullscreen():i.webkitEnterFullscreen(),v())}},b.enterFullscreenSymbol,b.leaveFullscreenSymbol),b.toolbar=l("div",{class:w+"-toolbar",role:"toolbar","aria-label":T.player||"media player"},b.play,b.mute,b.volume,b.currentTime,b.time,b.remainingTime,b.download,b.fullscreen);var E=b.player=l("div",{class:w+"-player",role:"region","aria-label":T.player||"media player"},b.toolbar),M=b._fullscreenchange="onfullscreenchange"in E?"fullscreenchange":"onwebkitfullscreenchange"in E?"webkitfullscreenchange":"onmozfullscreenchange"in E?"mozfullscreenchange":"onMSFullscreenChange"in E?"MSFullscreenChange":"fullscreenchange",C=b._fullscreenElement=function(){return x.fullscreenElement||x.webkitFullscreenElement||x.mozFullScreenElement||x.msFullscreenElement},L=b._requestFullscreen=E.requestFullscreen||E.webkitRequestFullscreen||E.mozRequestFullScreen||E.msRequestFullscreen,D=b._exitFullscreen=function(){return x.exitFullscreen||x.webkitCancelFullScreen||x.mozCancelFullScreen||x.msExitFullscreen};x.addEventListener(M,v),l(i,{class:w+"-media",playsinline:"","webkit-playsinline":"",role:"img",tabindex:-1}).controls=!1,i.parentNode&&E.insertBefore(i.parentNode.replaceChild(E,i),b.toolbar);var R=void 0,N=void 0,$=void 0,q=void 0;e(b.time,b.timeRange,S,function(e){i.currentTime=$*Math.max(0,Math.min(1,e)),c()}),e(b.volume,b.volumeRange,k,function(e){i.volume=Math.max(0,Math.min(1,e))}),s()}}();
//# sourceMappingURL=media-player.js.map
